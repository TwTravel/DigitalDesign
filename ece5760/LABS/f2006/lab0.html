
<html>
<head>
<title>ee576 Lab 0</title>
</head>

<body>
<h2>
EE 576: Laboratory 0 </h2> 
<h2> Introduction to the hardware and software.</h2>
<p>
<b> Introduction. </b>

<p> In this assignment you will build a circuit which reads some switches and produces a <a href="../../../../../../www.hit.bme.hu/people/papay/sci/DDS/products.htm">direct digital synthesis</a> (<a href="../../../../../../www.geocities.com/CapeCanaveral/5611/dds.html">DDS</a>) sine wave. 
<p> <b> Procedures:</b>  
<ol>
  <li>  You must handle the boards only on on the ESD mat. These boards are expensive and you must be careful of them. 
  <li>Make sure the Altera DE2 board is connected to power and to the PC as specified 
    in the  <a href="../../DE2/tut_initialDE2.pdf">board description</a>. Turn on the power supply with the red switch 
    on the board. Make sure the toggle switch on the left edge of the board marked (<code>Run/Prog</code>) is in the <code>Run</code> position and <em>leave it there at all times</em>.
The FPGA will program in the <code>Run</code> position. Putting the switch in the <code>Prog</code> position writes your design to flash memory, which you do not want to do.
  <li>The <a href="../../DE2/DE2_TOP.v">default top level module</a> for the DE2 defines all of the logical i/o signals from the FPGA. <li>You can define the mapping from logical signal to FPGA pins (<em>pin assignment</em> in QuartusII) for all the pins at once by importing <a href="../../DE2/DE2_pin_assignments.csv">this file</a> using the menu item <code>Assignments... Import Assignments...</code> and specifying the file name. There is no need to define pins one-by-one.   
<li>Read the Altera <a href="../../Verilog/tut_quartus_intro_verilog.pdf">tutorial</a> on using Verilog with QuartusII.
<li>The <a href="../../DE2_Datasheets/VGA%20DAC/ADV7123_a.pdf">VGA output</a> can operate as a 50 MHz D/A converter if you set the <code>vga_blanking</code> and <code>vga_sync</code> i/o signals high. Output the sine wave through the VGA red channel. The connector pinout is on the <a href="../../DE2/DE2_schematics.pdf">DE2 schematic</a>. 
<li>You will need to generate a table containing 10-bit approxmations of a sine wave. You can precompute them and build the Verilog table in matlab using the following program, if you need 256 samples/cycle. 
  <pre>%generate a sine table for Verilog ROM 
x = 1:256;
% Sin : scale to 10-bits and offset 9-bits
y = fix(512 + 511*sin(2*pi*(x-1)/256)); 
for i=x
    fprintf('\t\t\t8''h%02x: sine = 10''h%03x ;\n', x(i)-1 ,y(i))    
end</pre> 
<li>When you come to lab, you should have  a clean draft of the Verilog code required for the assignment.
</ol>
<hr>
<b> Assignment </b> 
<ul>
  <li> You will design the system in Verilog and compile it to the FPGA using QuartusII. Don't use schematic entry or VHDL. </li>
  <li>Build a circuit to produce a DDS  sine wave at 50 MHz sample rate then output it through the red channel of the VGA connector. </li>
  <li>You should be able to enter the desired frequency in Hz using  SW[17:0] and KEY3. When pressed, KEY3 will multiply the frequency by 16. As an example, setting only SW7 to the up position, and releasing KEY3, should produce 128 Hz. Setting only SW7 to the up position, and pressing KEY3, should produce 128*16=2048 Hz. </li>
  <li>Your implementation should have <em>at least</em> 32 sine samples/cycle at low frequencies. </li>
</ul>
<p>Be prepared to demo your design  to your TA in lab and verify that the frequency is correct to the accuracy of the scope. </p>
<p> Your written lab report should include: 

<ul>
  <li>An RTL (register transfer level) block diagran of your design. 
  <li> Other design aspects of the assignment.   
  <li>Why does the amplitude of the sine wave drop off at high frequencies (say above 1 MHz)?<li> A heavily commented listing of your Verilog design. 
</ul>
<hr>
<small> <font size="-1">Copyright Cornell University July 2006</font></small> 
</body> </html>

